<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Registro</title>
	<link rel="stylesheet" th:href="@{/login/luz.css}" />
	<link rel="stylesheet" th:href="@{/login/bordeE.css}" />
	<link rel="stylesheet" th:href="@{/login/login.css}" />
</head>
<body class="light-rays">

	<!-- Imagen gigante del Dr. Daniel como fondo -->
	<img src="/components/danieldoctor.png" class="doctor-background" alt="Dr. Daniel" />
	
	<section class="auth-container">
		<!-- Bot√≥n volver al inicio en esquina superior izquierda -->
		<a href="/" class="back-home-btn">‚Üê Volver al inicio</a>
		
		<div class="auth-message">
			<h2>¬°Hola, nuevo usuario!</h2>
			<p>Reg√≠strate para comenzar a usar MediPac y gestionar tus citas m√©dicas.</p>
      <br>
      <p>Ya tienes una cuenta?</p>
			<a href="/login" class="auth-button ">Iniciar sesi√≥n</a>
		</div>

		<form th:action="@{/register}" method="post" class="auth-form">
			<!-- CSRF Token para Spring Security -->
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
			
			<h2>Crear cuenta</h2>
			
			<!-- Mensajes de error y √©xito -->
			<div th:if="${error}" class="alert alert-error" style="color: #ff6b6b; background: rgba(255, 107, 107, 0.1); padding: 0.8rem; border-radius: 4px; margin-bottom: 1rem; border: 1px solid rgba(255, 107, 107, 0.3);">
				<span th:text="${error}"></span>
			</div>
			<div th:if="${success}" class="alert alert-success" style="color: #51cf66; background: rgba(81, 207, 102, 0.1); padding: 0.8rem; border-radius: 4px; margin-bottom: 1rem; border: 1px solid rgba(81, 207, 102, 0.3);">
				<span th:text="${success}"></span>
			</div>
			
			<div class="form-group">
				<label for="name">Nombre completo</label>
				<input type="text" id="name" name="name" required />
			</div>
			<div class="form-group">
				<label for="email">Correo electr√≥nico</label>
				<input type="email" id="email" name="email" required />
			</div>
			<div class="form-group">
				<label for="username">Usuario</label>
				<input type="text" id="username" name="username" required />
			</div>
			<div class="form-group">
				<label for="password">Contrase√±a</label>
				<input type="password" id="password" name="password" required />
			</div>
			<button type="submit" class="auth-submit">Registrarse</button>
		</form>
	</section>

	<!-- Elemento opcional para efectos el√©ctricos -->
	<!-- 
		<div class="electric-border">
			<div class="eb-content">Contenido con borde el√©ctrico</div>
		</div>
	-->
	
	<script type="module">
		console.log('üöÄ Iniciando efectos visuales...');
		
		try {
			// Importar y aplicar efecto de rayos de luz
			const { createLightRays } = await import('/login/luz.js');
			console.log('‚úÖ luz.js cargado correctamente');

			const efectos = createLightRays({
				selector: '.light-rays',
				color: '#7bb3f0',           // Color azul suave
				speed: 1.5,                 // Velocidad
				intensity: 1.5,             // Intensidad aumentada
				pulsating: true,            // ¬øPulsante?
				spread: 1.2,                // Dispersi√≥n aumentada
				length: 2.5                 // Longitud aumentada
			});

			console.log('‚ú® LightRays iniciado para', efectos ? efectos.length : 0, 'elementos');
		} catch (error) {
			console.error('‚ùå Error cargando luz.js:', error);
		}
		
		try {
			// Importar efecto de borde el√©ctrico (opcional)
			const { createElectricBorder } = await import('/login/bordeElectric.js');
			console.log('‚úÖ bordeElectric.js cargado correctamente');

			// Solo aplicar si existe el elemento
			const electricElement = document.querySelector('.electric-border');
			if (electricElement) {
				createElectricBorder({
					selector: '.electric-border',
					color: '#7bb3f0',
					speed: 1.5,
					chaos: 1.2,
					thickness: 3
				});
				console.log('‚ö° Electric Border aplicado');
			}
		} catch (error) {
			console.error('‚ùå Error cargando bordeElectric.js:', error);
		}
	</script>
				

				
</body>
</html>